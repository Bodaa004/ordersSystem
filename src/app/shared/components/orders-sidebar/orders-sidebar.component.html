<p-sidebar
  [(visible)]="sidebarVisible"
  [dismissible]="false"
  (visibleChange)="sidebarVisibleChange.emit($event)"
  position="right"
  styleClass="w-30rem"
>
  <ng-template pTemplate="header">
    <span class="font-semibold text-xl">{{ 'Cart' | arabicTranslate }}</span>
  </ng-template>
  @if (cartItems.length) {
    <ul>
      @for (item of cartItems; track item.id) {
        <li class="flex justify-between items-center py-2 border-b">
          <span>{{ item.name }}</span>
          <button class="ml-2 px-2 py-1 bg-red-500 text-white rounded"
                  (click)="removeItem(item.id)">
            {{ 'Remove' | arabicTranslate }}
          </button>
        </li>
      }
    </ul>
    <div class="mt-4 font-bold text-right">
      {{ 'Total' | arabicTranslate }}: {{ total | currency }}
    </div>
    <button class="mt-4 w-full bg-green-600 text-white py-2 rounded">{{ 'Checkout' | arabicTranslate }}</button>
  } @else {
    <p class="text-center text-gray-500">{{ 'Your cart is empty.' | arabicTranslate }}</p>
  }
</p-sidebar>
